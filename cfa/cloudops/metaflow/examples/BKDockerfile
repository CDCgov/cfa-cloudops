FROM python:3.10.17-slim-bullseye
RUN apt-get update -y --fix-missing && apt-get install git -y

WORKDIR /app

COPY bk_algorithm.py .
COPY bk_requirements.txt .
COPY script.sh .
COPY upload_files.py .

RUN chmod +x /app/script.sh && mkdir -p /app/cliques && pip install --upgrade pip && pip install -r bk_requirements.txt

ENTRYPOINT ["/app/script.sh", "10"]
